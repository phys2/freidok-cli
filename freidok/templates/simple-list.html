<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Publications</title>
	<style>
		.pub > * {
				display: block;
		}
		.pub-thumbnail {
				float: right;
		}
	</style>
</head>

<body>
<h1>Publications</h1>
<ul class="publication-list">
	{% for pub in publications %}
		<li class="pub {{ loop.cycle('odd', 'even') }}">
			{# image #}
			{% if pub.preview_image.thumbnail90 %}
				<img class="pub-thumbnail" src="{{ pub.preview_image.thumbnail90 }}" alt="Publication thumbnail"/>
			{% endif %}

			{# authors #}
			<span class="pub-authors">
				{% set comma = joiner(",") %}
				{%- for author in pub.persons -%}
					{{ comma() }} {{ author.forename }} {{ author.surname }}
				{%-  endfor -%}
			</span>
			{# title #}
			<span class="pub-title">
				{{ pub.titles[0].value }}
			</span>
			{# journal information #}
			{% set source = pub.source_journal[0] %}
			<span class="pub-source">
				<span class="pub-source-title">{{ source.title }}</span>
				{% if source.volume %}
					<span class="pub-source-volume">{{ source.volume }}</span>
				{% endif %}
				{% if source.year %}
					<span class="pub-source-year">({{ source.year }})</span>
				{% endif %}
				{% if source.issue %}
					<span class="pub-source-issue">{{ source.issue }},</span>
				{% endif %}
				{% if source.page %}
					<span class="pub-source-page">{{ source.page }}</span>
				{% endif %}
			</span>
			{# link #}
			{% if pub.pub_ids %}
				<span class="pub-link">
					<a href="{{ pub.pub_ids[0].link }}" title="Go to publication">{{ pub.pub_ids[0].link }}</a>
				</span>
			{% endif %}


		</li>

	{% endfor %}
</ul>
</body>
</html>
